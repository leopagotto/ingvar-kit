graph TB
    subgraph "Ingvar Kit Architecture v6.0.0"
        CLI[CLI Entry Point<br/>bin/cli.js]

        subgraph "Core Commands"
            INIT[ingvar init<br/>Project Setup]
            ISSUE[ingvar issue<br/>Interactive Issue Creator]
            LABELS[ingvar labels<br/>Label Management]
            VSCODE[ingvar vscode<br/>VS Code Integration]
            CONFIG[ingvar config<br/>Configuration Manager]
            STATUS[ingvar status<br/>Workflow Status]
            HEALTH[ingvar health<br/>System Health Check]
            AGENT[ingvar agent<br/>Agent Management]
            GITHUB[ingvar github<br/>Repository Settings]
        end

        subgraph "Multi-Agent Orchestration System v6.0.0"
            ORCHESTRATOR[Orchestrator Agent<br/>Task Routing]

            subgraph "Specialized Agents - 7 Total"
                DESIGNER[Designer Agent<br/>UI/UX Mockups]
                FRONTEND[Frontend Agent<br/>Components/Styling]
                BACKEND[Backend Agent<br/>APIs/Database]
                DEVOPS[DevOps Agent<br/>CI/CD/Infrastructure]
                TESTING[Testing Agent<br/>Tests/Coverage]
                DOCS[Documentation Agent<br/>Guides/API Docs]
            end

            AGENT_CONFIG[Agent Configuration<br/>.ingvarrc.json]
            AGENT_ROUTING{Intelligent Routing}

            ORCHESTRATOR --> AGENT_ROUTING
            AGENT_ROUTING -->|UI Mockup| DESIGNER
            AGENT_ROUTING -->|UI Code| FRONTEND
            AGENT_ROUTING -->|API| BACKEND
            AGENT_ROUTING -->|Deploy| DEVOPS
            AGENT_ROUTING -->|Test| TESTING
            AGENT_ROUTING -->|Docs| DOCS

            AGENT_CONFIG -.->|Controls| DESIGNER
            AGENT_CONFIG -.->|Controls| FRONTEND
            AGENT_CONFIG -.->|Controls| BACKEND
            AGENT_CONFIG -.->|Controls| DEVOPS
            AGENT_CONFIG -.->|Controls| TESTING
            AGENT_CONFIG -.->|Controls| DOCS
        end

        subgraph "AI Instructions System v6.0.0 - 90% Smaller"
            AI_BUILDER[AI Instructions Builder]
            AI_CORE[Core Instructions<br/>464 lines]
            AI_ADAPTERS[Agent Adapters<br/>Modular]
            AI_OUTPUT[.github/copilot-instructions.md]

            AI_BUILDER --> AI_CORE
            AI_BUILDER --> AI_ADAPTERS
            AI_BUILDER --> AI_OUTPUT
            AGENT_CONFIG -.->|Configures| AI_BUILDER
        end

        subgraph "Configuration System"
            CONFIG_MGR[Config Manager]
            LOCAL_CFG[.ingvarrc.json]
            GLOBAL_CFG[~/.ingvarrc.json]
            CONFIG_MGR --> LOCAL_CFG
            CONFIG_MGR --> GLOBAL_CFG
        end

        subgraph "Core Libraries"
            BANNER[banner.js]
            CHECKS[checks.js]
            FIRSTRUN[first-run.js]
            PROJECT_DETECT[project-detector.js]
        end

        subgraph "External Dependencies"
            GH[GitHub CLI]
            GHAPI[GitHub API]
            GHPROJECTS[GitHub Projects v2]
            NODE[Node.js >= 16]
            NPM[npm Registry]
        end
    end

    CLI --> INIT
    CLI --> ISSUE
    CLI --> LABELS
    CLI --> VSCODE
    CLI --> CONFIG
    CLI --> STATUS
    CLI --> HEALTH
    CLI --> AGENT
    CLI --> GITHUB

    AGENT --> ORCHESTRATOR
    AGENT --> AGENT_CONFIG
    CONFIG --> CONFIG_MGR

    INIT --> BANNER
    INIT --> AI_BUILDER
    INIT --> CHECKS
    INIT --> FIRSTRUN
    INIT --> PROJECT_DETECT

    VSCODE --> AI_BUILDER
    LABELS --> GH
    ISSUE --> GH

    INIT --> GH
    GITHUB --> GH
    GH --> GHAPI
    GHAPI --> GHPROJECTS

    CLI -.-> NODE
    NPM -.-> NODE

    style CLI fill:#4CAF50,stroke:#2E7D32,stroke-width:3px,color:#fff
    style ORCHESTRATOR fill:#E91E63,stroke:#880E4F,stroke-width:3px,color:#fff
    style AGENT_ROUTING fill:#E91E63,stroke:#880E4F,stroke-width:2px,color:#fff
    style DESIGNER fill:#FF6B9D,stroke:#C2185B,stroke-width:2px,color:#fff
    style FRONTEND fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#fff
    style BACKEND fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#fff
    style DEVOPS fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#fff
    style TESTING fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#fff
    style DOCS fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#fff
    style AI_BUILDER fill:#9C27B0,stroke:#4A148C,stroke-width:2px,color:#fff
    style AI_OUTPUT fill:#9C27B0,stroke:#4A148C,stroke-width:2px,color:#fff
    style AGENT_CONFIG fill:#9C27B0,stroke:#4A148C,stroke-width:2px,color:#fff
